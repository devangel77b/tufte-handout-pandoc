% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{svgnames,hyperref}{xcolor}
%
\documentclass{tufte-handout}

% preliminary declarations
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage{textcomp} % provide euro and other symbols
\RequirePackage{microtype}
\RequirePackage{amsmath,amsfonts,amssymb} % use AMS math

% From preamble.tex
\RequirePackage[american]{babel} % for course dates?
\RequirePackage[american,inputamerican]{isodate} % for course dates?
%\dateinputformat{american}
\RequirePackage{amsmath,amsfonts,amssymb} % use AMS math
\RequirePackage[makeroom]{cancel} % for when I cancel things in math
\RequirePackage{graphicx} % use graphics
%\RequirePackage{svg,svg-extract} % check if conflicts with Beamer? 
\RequirePackage{booktabs} % for nice tables
\RequirePackage{siunitx}
\sisetup{per-mode=symbol} % to get e.g. m/s, instead of [m s^{-1}]
\DeclareSIUnit\foot{ft}
\DeclareSIUnit\pound{lb}
\DeclareSIUnit\ounce{oz}
\DeclareSIUnit\inch{in}
\DeclareSIUnit\rpm{rpm}
\DeclareSIUnit\fahrenheit{F}
\DeclareSIUnit\bit{bit}
\DeclareSIUnit\byte{B}
\RequirePackage[version=4]{mhchem} 
% for chemical stuff, replaces chemfig, chemformula for pandoc compatibility 
\RequirePackage{upquote}
\RequirePackage[plain]{fancyref} % \fref, \Fref... 
\RequirePackage{bibentry} 
%\RequirePackage{sidenotes}
\RequirePackage{xurl}
%\RequirePackage{bookmark}

% oddballs to avoid option clashes with tufte
%\RequirePackage{xcolor}

% svg and minted require shell-escape so make them loaded by user
%\RequirePackage{minted} % replaces use of listings, for pandoc compatibility
%\RequirePackage{svg,svg-extract} % use SVG figures




\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\hypersetup{
$if(title-meta)$
  pdftitle={$title-meta$},
$endif$
$if(author-meta)$
  pdfauthor={$author-meta$},
$endif$
$if(lang)$
  pdflang={$lang$},
$endif$
$if(subject)$
  pdfsubject={$subject$},
$endif$
$if(keywords)$
  pdfkeywords={$for(keywords)$$keywords$$sep$, $endfor$},
$endif$
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

$if(title)$
\title{$title$$if(thanks)$\thanks{$thanks$}$endif$}
$endif$
\author{$for(author)$$author$$sep$ \and $endfor$}
\date{$date$}

\begin{document}
\maketitle

$body$
\end{document}